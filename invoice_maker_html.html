<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Invoice Generator - Jeethu Cabs</title>
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,600" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: 'Montserrat', sans-serif;
        }
        @media print {
            .print-hidden {
                display: none !important;
            }
            body {
                margin: 0;
                padding: 0;
            }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useRef } = React;

        function InvoiceMaker() {
            const [formData, setFormData] = useState({
                customerName: '',
                date: new Date().toISOString().split('T')[0],
                tripPurpose: '',
                cabType: '',
                from: '',
                to: '',
                tripTime: '',
                tripDistance: '',
                tollCharges: '',
                extraCharges: '',
                tripFare: '',
                driverName: '',
                licensePlate: '',
                invoiceNumber: ''
            });

            const [showPreview, setShowPreview] = useState(false);

            const handleChange = (e) => {
                setFormData({
                    ...formData,
                    [e.target.name]: e.target.value
                });
            };

            const calculateTotal = () => {
                const toll = parseFloat(formData.tollCharges) || 0;
                const extra = parseFloat(formData.extraCharges) || 0;
                const fare = parseFloat(formData.tripFare) || 0;
                return (toll + extra + fare).toFixed(2);
            };

            const formatDate = (dateStr) => {
                const date = new Date(dateStr);
                return date.toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' });
            };

            const handlePrint = () => {
                window.print();
            };

            const togglePreview = () => {
                setShowPreview(!showPreview);
            };

            const InvoicePreview = () => {
                const total = calculateTotal();
                
                return (
                    <div style={{ fontFamily: 'Montserrat, sans-serif' }}>
                        <div style={{ backgroundColor: '#d6d6d5', padding: '20px' }}>
                            <div style={{ maxWidth: '700px', margin: '0 auto', backgroundColor: '#fff' }}>
                                
                                {/* Header */}
                                <div style={{ backgroundColor: '#fdf3dd', padding: '45px 28px 40px' }}>
                                    <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>
                                        <div style={{ width: '200px', height: '30px' }}><span><b>JEETHU</b> CABS</span></div>
										<div style={{ color: '#000', fontSize: '12px' }}>{formatDate(formData.date)}</div>
                                    </div>
                                </div>

                                {/* Hero Section */}
                                <div style={{ backgroundColor: '#fdf3dd', padding: '0 28px 40px' }}>
                                    <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-end' }}>
                                        <div style={{ maxWidth: '60%' }}>
                                            <div style={{ fontSize: '34px', lineHeight: '38px', color: '#000' }}>Thanks for riding</div>
                                            <div style={{ fontSize: '34px', lineHeight: '38px', color: '#000', fontWeight: '600', marginBottom: '25px' }}>{formData.customerName}</div>
                                            <div style={{ fontSize: '20px', lineHeight: '26px', color: '#000' }}>We're glad you chose us for</div>
                                            <div style={{ fontSize: '20px', lineHeight: '26px', color: '#000', fontWeight: '600' }}>{formData.tripPurpose}.</div>
                                        </div>
                                        <div style={{ width: '210px', height: '144px' }}>
                                            <img src="8150312.png" alt="Car" style={{ width: '100%', height: '100%', objectFit: 'contain' }} />
                                        </div>
                                    </div>
                                </div>

                                {/* Total Section */}
                                <div style={{ backgroundColor: '#fff', padding: '45px 28px 0' }}>
                                    <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', padding: '0 12px' }}>
                                        <div style={{ fontSize: '44px', fontWeight: '600', color: '#000' }}>Total</div>
                                        <div style={{ fontSize: '44px', fontWeight: '600', color: '#000' }}>INR {total}</div>
                                    </div>

                                    <div style={{ height: '1px', backgroundColor: '#009eb7', margin: '26px 12px' }}></div>

                                    {/* Details */}
                                    <div style={{ padding: '0 12px' }}>
                                        <div style={{ display: 'flex', justifyContent: 'space-between', padding: '5px 0' }}>
                                            <div style={{ fontSize: '16px', color: '#000' }}>Cab Type</div>
                                            <div style={{ fontSize: '16px', color: '#000' }}>{formData.cabType}</div>
                                        </div>

                                        <div style={{ height: '1px', backgroundColor: '#bdbdbd', margin: '26px 0' }}></div>

                                        <div style={{ display: 'flex', justifyContent: 'space-between', padding: '5px 0' }}>
                                            <div style={{ fontSize: '16px', color: '#000' }}>From</div>
                                            <div style={{ fontSize: '16px', color: '#000' }}>{formData.from}</div>
                                        </div>

                                        <div style={{ display: 'flex', justifyContent: 'space-between', padding: '5px 0' }}>
                                            <div style={{ fontSize: '16px', color: '#000' }}>To</div>
                                            <div style={{ fontSize: '16px', color: '#000' }}>{formData.to}</div>
                                        </div>

                                        <div style={{ display: 'flex', justifyContent: 'space-between', padding: '5px 0' }}>
                                            <div style={{ fontSize: '16px', color: '#000' }}>Trip Time</div>
                                            <div style={{ fontSize: '16px', color: '#000' }}>{formData.tripTime}</div>
                                        </div>

                                        <div style={{ display: 'flex', justifyContent: 'space-between', padding: '5px 0' }}>
                                            <div style={{ fontSize: '16px', color: '#000' }}>Trip Distance</div>
                                            <div style={{ fontSize: '16px', color: '#000' }}>{formData.tripDistance}</div>
                                        </div>

                                        <div style={{ display: 'flex', justifyContent: 'space-between', padding: '5px 0' }}>
                                            <div style={{ fontSize: '16px', color: '#000' }}>Toll Charges</div>
                                            <div style={{ fontSize: '16px', color: '#000' }}>₹{formData.tollCharges || '0.00'}</div>
                                        </div>

                                        <div style={{ display: 'flex', justifyContent: 'space-between', padding: '5px 0' }}>
                                            <div style={{ fontSize: '16px', color: '#000' }}>Extra Charges</div>
                                            <div style={{ fontSize: '16px', color: '#000' }}>₹{formData.extraCharges || '0.00'}</div>
                                        </div>

                                        <div style={{ display: 'flex', justifyContent: 'space-between', padding: '5px 0' }}>
                                            <div style={{ fontSize: '16px', color: '#000' }}>Trip Fare</div>
                                            <div style={{ fontSize: '16px', color: '#080' }}>₹{formData.tripFare || '0.00'}</div>
                                        </div>
                                    </div>
                                </div>

                                {/* Driver Info */}
                                <div style={{ backgroundColor: '#f8f8fa', padding: '22px 40px' }}>
                                    <div style={{ fontSize: '22px', color: '#000', marginBottom: '5px' }}>You rode with {formData.driverName}</div>
                                    <div style={{ fontSize: '12px', color: '#000', marginBottom: '10px' }}>Company Name: {formData.licensePlate}</div>
                                </div>

                                {/* Invoice Number */}
                                <div style={{ backgroundColor: '#277ef1', padding: '40px 86px' }}>
                                    <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>
                                        <div style={{ color: '#fff', fontSize: '16px' }}>Invoice No.</div>
                                        <div style={{ color: '#fff', fontSize: '60px', fontWeight: '600' }}>#{formData.invoiceNumber}</div>
                                    </div>
                                </div>

                                {/* Footer */}
                                <div style={{ backgroundColor: '#f1f1f1', padding: '30px 28px' }}>
                                    <div style={{ display: 'flex', justifyContent: 'space-between', fontSize: '12px', color: '#000' }}>
                                        <div>Invoice is exclusive of GST.</div>
                                        <div>An Associate of Sri Manjunatha Tours and Travels</div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                );
            };

            return (
                <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4">
                    <div className="max-w-4xl mx-auto">
                        {!showPreview ? (
                            <div className="bg-white rounded-lg shadow-xl p-6 md:p-8 print-hidden">
                                <div className="flex items-center gap-3 mb-6">
                                    <svg className="w-8 h-8 text-indigo-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                                    </svg>
                                    <h1 className="text-3xl font-bold text-gray-800">Jeethu Cabs - Invoice Generator</h1>
                                </div>
                                <p className="text-gray-600 mb-8">Fill in the details below to generate a professional invoice</p>

                                <div className="grid md:grid-cols-2 gap-6">
                                    <div>
                                        <label className="block text-sm font-semibold text-gray-700 mb-2">Customer Name *</label>
                                        <input type="text" name="customerName" value={formData.customerName} onChange={handleChange} placeholder="Mr. Prem" className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent" required />
                                    </div>

                                    <div>
                                        <label className="block text-sm font-semibold text-gray-700 mb-2">Date *</label>
                                        <input type="date" name="date" value={formData.date} onChange={handleChange} className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent" required />
                                    </div>

                                    <div>
                                        <label className="block text-sm font-semibold text-gray-700 mb-2">Trip Purpose *</label>
                                        <input type="text" name="tripPurpose" value={formData.tripPurpose} onChange={handleChange} placeholder="Trip to Airport" className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent" required />
                                    </div>

                                    <div>
                                        <label className="block text-sm font-semibold text-gray-700 mb-2">Cab Type *</label>
                                        <select name="cabType" value={formData.cabType} onChange={handleChange} className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent" required>
                                            <option value="">Select cab type</option>
                                            <option value="Sedan">Sedan</option>
                                            <option value="SUV">SUV</option>
                                            <option value="Hatchback">Hatchback</option>
                                            <option value="Luxury">Luxury</option>
                                        </select>
                                    </div>

                                    <div>
                                        <label className="block text-sm font-semibold text-gray-700 mb-2">From *</label>
                                        <input type="text" name="from" value={formData.from} onChange={handleChange} placeholder="PSN" className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent" required />
                                    </div>

                                    <div>
                                        <label className="block text-sm font-semibold text-gray-700 mb-2">To *</label>
                                        <input type="text" name="to" value={formData.to} onChange={handleChange} placeholder="Airport T1" className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent" required />
                                    </div>

                                    <div>
                                        <label className="block text-sm font-semibold text-gray-700 mb-2">Trip Time *</label>
                                        <input type="text" name="tripTime" value={formData.tripTime} onChange={handleChange} placeholder="00:00" className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent" required />
                                    </div>

                                    <div>
                                        <label className="block text-sm font-semibold text-gray-700 mb-2">Trip Distance *</label>
                                        <input type="text" name="tripDistance" value={formData.tripDistance} onChange={handleChange} placeholder="40 KM" className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent" required />
                                    </div>

                                    <div>
                                        <label className="block text-sm font-semibold text-gray-700 mb-2">Toll Charges (₹)</label>
                                        <input type="number" step="0.01" name="tollCharges" value={formData.tollCharges} onChange={handleChange} placeholder="100.00" className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent" />
                                    </div>

                                    <div>
                                        <label className="block text-sm font-semibold text-gray-700 mb-2">Extra Charges (₹)</label>
                                        <input type="number" step="0.01" name="extraCharges" value={formData.extraCharges} onChange={handleChange} placeholder="150.00" className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent" />
                                    </div>

                                    <div>
                                        <label className="block text-sm font-semibold text-gray-700 mb-2">Trip Fare (₹) *</label>
                                        <input type="number" step="0.01" name="tripFare" value={formData.tripFare} onChange={handleChange} placeholder="950.00" className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent" required />
                                    </div>

                                    <div>
                                        <label className="block text-sm font-semibold text-gray-700 mb-2">Driver Name *</label>
                                        <input type="text" name="driverName" value={formData.driverName} onChange={handleChange} placeholder="MAHESHA" className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent" required />
                                    </div>

                                    <div>
                                        <label className="block text-sm font-semibold text-gray-700 mb-2">Company Name *</label>
                                        <input type="text" name="licensePlate" value={formData.licensePlate} onChange={handleChange} placeholder="Company Name" className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent" required />
                                    </div>

                                    <div>
                                        <label className="block text-sm font-semibold text-gray-700 mb-2">Invoice Number *</label>
                                        <input type="text" name="invoiceNumber" value={formData.invoiceNumber} onChange={handleChange} placeholder="A1300" className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent" required />
                                    </div>
                                </div>

                                <div className="mt-8 p-4 bg-indigo-50 rounded-lg border-2 border-indigo-200">
                                    <div className="flex justify-between items-center">
                                        <span className="text-xl font-semibold text-gray-700">Total Amount:</span>
                                        <span className="text-3xl font-bold text-indigo-600">INR {calculateTotal()}</span>
                                    </div>
                                </div>

                                <div className="mt-8 flex gap-4 flex-wrap">
                                    <button onClick={togglePreview} className="flex-1 min-w-[200px] flex items-center justify-center gap-2 bg-indigo-600 text-white px-6 py-3 rounded-lg hover:bg-indigo-700 transition-colors font-semibold">
                                        <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                                            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
                                        </svg>
                                        Preview Invoice
                                    </button>
                                    <button onClick={handlePrint} className="flex-1 min-w-[200px] flex items-center justify-center gap-2 bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-colors font-semibold">
                                        <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z" />
                                        </svg>
                                        Print Invoice
                                    </button>
                                </div>
                            </div>
                        ) : (
                            <div className="bg-white rounded-lg shadow-xl overflow-hidden">
                                <div className="bg-indigo-600 p-4 flex justify-between items-center print-hidden">
                                    <h2 className="text-white text-xl font-bold">Invoice Preview</h2>
                                    <div className="flex gap-3">
                                        <button onClick={handlePrint} className="flex items-center gap-2 bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors font-semibold">
                                            <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z" />
                                            </svg>
                                            Print Invoice
                                        </button>
                                        <button onClick={togglePreview} className="flex items-center gap-2 bg-white text-indigo-600 px-4 py-2 rounded-lg hover:bg-gray-100 transition-colors font-semibold">
                                            <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M10 19l-7-7m0 0l7-7m-7 7h18" />
                                            </svg>
                                            Back to Form
                                        </button>
                                    </div>
                                </div>
                                <InvoicePreview />
                            </div>
                        )}
                    </div>
                </div>
            );
        }

        ReactDOM.render(<InvoiceMaker />, document.getElementById('root'));
    </script>
</body>
</html>
